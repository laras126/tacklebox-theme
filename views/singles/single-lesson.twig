{% extends 'singles/single.twig' %}


{% block content %}
	{% for t in post.get_terms('class')|slice(0,1) %}
		{{t.name}}
	{% endfor %}

{% if access %}
	<div class="lesson-screencasts">
		{% for id in post.get_field('screencasts') %}
		<section class="sc-section{{loop.first ? ' open'}}">
			{% set vid = TimberPost(id) %}
			<header class="sc-header">
				<h3>{{vid.title}}</h3>
				<p>{{vid.header_tagline}}</p>
			</header>
			{{vid.video_embed}}
			{{vid.content}}
			<footer class="sc-footer">
				<h5>Relevant Links</h5>
				<ul>
					{% for link in vid.get_field('links') %}
						<a href="{{link.url}}" target="blank">{{link.title}}</a>
					{% endfor %}
				</ul>
			</footer>
		</section>
		{% endfor %}
	</div> <!-- /.lesson-screencasts -->

	<nav class="lesson-nav">
		<ul class="tabs">
			<li class="tab"><a class="tab-link open" href="#notes">Lesson Notes</a></li>
			<li class="tab"><a class="tab-link" href="#homework">Homework</a></li>
			<li class="tab"><a class="tab-link" href="#resources">Resources</a></li>
		</ul>
	</nav> <!-- /.lesson-nav -->
	
	<div class="tab-content-container">
		<section class="tab-content open" id="notes">
			<header class="tab-header">
				<h2 class="tab-title">Learning Goals</h2>
				<p>Make sure you understand these concepts before moving to the next lesson.</p>
			</header>
			{% if post.get_field('blocks') %}
				{% for block in post.get_field('blocks') %} 
					{% include 'blocks/block-logic.twig' %}
				{% endfor %}
			{% else %}
				{% include 'partials/content-coming.twig' %}
			{% endif %}
		</section> <!-- /#notes -->

		<section class="tab-content" id="homework">
			<header class="tab-header">
				<h2 class="tab-title">Homework</h2>
				<p>Complete these parts of your project.</p>
			</header>
			{% if post.get_field('assignment_blocks') %}
				{% for block in post.get_field('assignment_blocks') %}
					{% include 'blocks/block-logic.twig' %}
				{% endfor %}
			{% else %}
				{% include 'partials/content-coming.twig' %}
			{% endif %}
		</section> <!-- /#homework -->

		<section class="tab-content" id="resources">
			<header class="tab-header">
				<h2 class="tab-title">Resources</h2>
				<p>Helpful resources related to this lesson.</p>
			</header>
			{% if post.get_field('resources_blocks') %}
				{% for block in post.get_field('resources_blocks') %}
					{% include 'blocks/block-logic.twig' %}
				{% endfor %}
			{% else %}
				{% include 'partials/content-coming.twig' %}
			{% endif %}
		</section> <!-- /#resources -->
	</div> <!-- /.tab-content-container -->

	{% else %}
		{% include 'partials/no-access.twig' %}	
	{% endif %}

{% endblock %}

{% block after_content %}

	<footer class="lesson-footer">
		{% include 'partials/prevnext.twig' %}
	</footer>
	
{% endblock %}
